{"version":3,"sources":["scripts.js"],"names":["window","onload","stickyDiv","document","getElementById","style","top","stickyValue","scrollY","classList","remove","add","body","onscroll","emailRegex","closeMenu","console","log","getElementsByClassName","getElementsByTagName","showModal","isOk","innerHTML","onclick","links","i","length","validEmail","showMessage","msg","data","email","value","phone","fio","test","request_options","headers","mode","method","JSON","stringify","fetch","then","res","json","ok","catch"],"mappings":";AACAA,OAAOC,OAAS,WAMVC,IAAAA,EAAYC,SAASC,eAAe,UAExCF,EAAUG,MAAMC,IAAMC,MAElBP,OAAOQ,SAAYD,GACrBL,EAAUO,UAAUC,OAAO,WAG3BR,EAAUO,UAAUE,IAAI,WAG1BR,SAASS,KAAKC,SAAW,WACRb,OAAOQ,SACLD,GACfL,EAAUO,UAAUC,OAAO,WAG3BR,EAAUO,UAAUE,IAAI,YAItBG,IAAAA,EAAa,eAObC,EAAY,WAChBC,QAAQC,IAAI,GACZd,SAASe,uBAAuB,uBAAuB,GAAGT,UAAUC,OAAO,UAC3EP,SAASgB,qBAAqB,QAAQ,GAAGV,UAAUC,OAAO,gBAWtDU,EAAY,SAACC,GACjBlB,SAASC,eAAe,gBAAgBkB,UACtCD,EACI,0EACA,iFACNlB,SAASC,eAAe,SAASK,UAAUE,IAAI,WAC/CR,SAASC,eAAe,UAAUK,UAAUE,IAAI,YAKlDR,SAASe,uBAAuB,QAAQ,GAAGK,QA9B1B,WACfpB,SAASe,uBAAuB,uBAAuB,GAAGT,UAAUE,IAAI,UACxER,SAASgB,qBAAqB,QAAQ,GAAGV,UAAUE,IAAI,gBA6BzDR,SAASe,uBAAuB,SAAS,GAAGK,QAAUR,EACtDZ,SAASC,eAAe,gBAAgBmB,QApBrB,WACjBpB,SAASC,eAAe,SAASK,UAAUC,OAAO,WAClDP,SAASC,eAAe,UAAUK,UAAUC,OAAO,WACnDP,SAASS,KAAKH,UAAUC,OAAO,gBAoB5B,IADCc,IAAAA,EAAQrB,SAASe,uBAAuB,oBACrCO,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAChCD,EAAMC,GAAGF,QAAUR,EAGfY,IAIAC,EAAc,SAACC,GACnB1B,SAASC,eAAe,UAAUkB,UAAYO,GAGhD1B,SAASC,eAAe,eAAemB,QAAU,WACzCO,IATYC,EASZD,EAAO,CACF3B,MAAAA,SAASC,eAAe,SAAS4B,MACnC7B,IAAAA,SAASC,eAAe,OAAO4B,MAC7B7B,MAAAA,SAASC,eAAe,SAAS4B,OAExC,GAAEF,EAAKC,OAASD,EAAKG,OAASH,EAAKI,IAElC,GAhBaH,EAgBDD,EAAKC,MAffjB,EAAWqB,KAAKJ,GAkBhB,GAAI,8DAA8DI,KAAKL,EAAKG,OAG7E,CACEG,IAAAA,EAAiB,CACnBC,QAAQ,CACU,eAAA,oBAElBC,KAAM,OACNC,OAAQ,OACR3B,KAAM4B,KAAKC,UAAUX,IAEvBY,MAAM,kCAAmCN,GACtCO,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAC,GACJ5B,QAAQC,IAAI2B,GACTA,GAAOA,EAAIE,KACZlB,EAAY,IACZR,GAAU,GACVjB,SAASC,eAAe,SAAS4B,MAAQ,GACzC7B,SAASC,eAAe,SAAS4B,MAAQ,GACzC7B,SAASC,eAAe,OAAO4B,MAAQ,MAG1Ce,MAAM,WACL3B,GAAU,UAxBdQ,EAAY,2DAHZA,EAAY,yDAH6BA,EAAY","file":"scripts.b3b1d6e8.js","sourceRoot":"..","sourcesContent":["\nwindow.onload = () => {\n\n  //\n  // sticky header\n  //\n\n  let stickyDiv = document.getElementById('sticky');\n  let stickyValue = 0; // will stick on the top of the div\n  stickyDiv.style.top = stickyValue + 'px';\n\n  if (window.scrollY <= (stickyValue + 10)) {\n    stickyDiv.classList.remove('sticked')\n  }\n  else {\n    stickyDiv.classList.add('sticked')\n  }\n\n  document.body.onscroll = () => {\n    let distance = window.scrollY;\n    if (distance <= (stickyValue + 10)) {\n      stickyDiv.classList.remove('sticked')\n    }\n    else {\n      stickyDiv.classList.add('sticked')\n    }\n  };\n\n  const emailRegex = /\\S+@\\S+\\.\\w+/;\n\n  const openMenu = () => {\n    document.getElementsByClassName('mobile-menu-content')[0].classList.add('opened');\n    document.getElementsByTagName('body')[0].classList.add('stop-scroll');\n  };\n\n  const closeMenu = () => {\n    console.log(1)\n    document.getElementsByClassName('mobile-menu-content')[0].classList.remove('opened');\n    document.getElementsByTagName('body')[0].classList.remove('stop-scroll');\n  };\n\n\n  const closeModal = () => {\n    document.getElementById('modal').classList.remove('isShown');\n    document.getElementById('shadow').classList.remove('isShown');\n    document.body.classList.remove('stop-scroll');\n  };\n\n\n  const showModal = (isOk) => {\n    document.getElementById('modal-result').innerHTML =\n      isOk\n        ? '<h2>Отлично!</h2><p>В течение ближайшего времени мы свяжемся с Вами</p>'\n        : '<h2>Что-то пошло не так...</h2><p>Проблемы с соединением, попробуйте позже</p>';\n    document.getElementById('modal').classList.add('isShown');\n    document.getElementById('shadow').classList.add('isShown');\n    // document.body.classList.add('stop-scroll');\n  };\n\n\n  document.getElementsByClassName('open')[0].onclick = openMenu;\n  document.getElementsByClassName('close')[0].onclick = closeMenu;\n  document.getElementById('modal-button').onclick = closeModal;\n\n  const links = document.getElementsByClassName('mobile-menu-item');\n  for (let i = 0; i < links.length; i++) {\n    links[i].onclick = closeMenu;\n  }\n\n  const validEmail = (email) => {\n    return emailRegex.test(email);\n  };\n\n  const showMessage = (msg) => {\n    document.getElementById('result').innerHTML = msg;\n  };\n\n  document.getElementById('submit-form').onclick = () => {\n    const data = {\n      'phone': document.getElementById('phone').value,\n      'fio': document.getElementById('fio').value,\n      'email': document.getElementById('email').value,\n    };\n    if (!(data.email && data.phone && data.fio)) showMessage('<p class=\"red-text\">Заполните все поля</p>');\n    else {\n      if(!validEmail(data.email)){\n        showMessage('<p class=\"red-text\">Введите корректный email</p>');\n      }\n      else if(!/^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(data.phone)){\n        showMessage('<p class=\"red-text\">Введите корректный телефон</p>');\n      }\n      else{\n        let request_options= {\n          headers:{\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          method: \"POST\",\n          body: JSON.stringify(data)\n        };\n        fetch('https://idwork.enface.ai/idwork', request_options)\n          .then(res => res.json())\n          .then(res => {\n            console.log(res);\n            if(res && res.ok){\n              showMessage('');\n              showModal(true);\n              document.getElementById('phone').value = '';\n              document.getElementById('email').value = '';\n              document.getElementById('fio').value = '';\n            }\n          })\n          .catch(() => {\n            showModal(false);\n          })\n      }\n    }\n  };\n};\n"]}