{"version":3,"sources":["scripts.js"],"names":["window","onload","stickyDiv","document","getElementById","stickyValue","style","top","scrollY","classList","remove","add","body","onscroll","distance","emailRegex","openMenu","getElementsByClassName","getElementsByTagName","closeMenu","console","log","closeModal","showModal","isOk","innerHTML","onclick","links","i","length","validEmail","email","test","showMessage","msg","data","value","phone","fio","request_options","headers","mode","method","JSON","stringify","fetch","then","res","json","ok","catch"],"mappings":"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","file":"scripts.b71a6038.js","sourceRoot":"..","sourcesContent":["\nwindow.onload = () => {\n\n  //\n  // sticky header\n  //\n\n  let stickyDiv = document.getElementById('sticky');\n  let stickyValue = 0; // will stick on the top of the div\n  stickyDiv.style.top = stickyValue + 'px';\n\n  if (window.scrollY <= (stickyValue + 10)) {\n    stickyDiv.classList.remove('sticked')\n  }\n  else {\n    stickyDiv.classList.add('sticked')\n  }\n\n  document.body.onscroll = () => {\n    let distance = window.scrollY;\n    if (distance <= (stickyValue + 10)) {\n      stickyDiv.classList.remove('sticked')\n    }\n    else {\n      stickyDiv.classList.add('sticked')\n    }\n  };\n\n  const emailRegex = /\\S+@\\S+\\.\\w+/;\n\n  const openMenu = () => {\n    document.getElementsByClassName('mobile-menu-content')[0].classList.add('opened');\n    document.getElementsByTagName('body')[0].classList.add('stop-scroll');\n  };\n\n  const closeMenu = () => {\n    console.log(1)\n    document.getElementsByClassName('mobile-menu-content')[0].classList.remove('opened');\n    document.getElementsByTagName('body')[0].classList.remove('stop-scroll');\n  };\n\n\n  const closeModal = () => {\n    document.getElementById('modal').classList.remove('isShown');\n    document.getElementById('shadow').classList.remove('isShown');\n    document.body.classList.remove('stop-scroll');\n  };\n\n\n  const showModal = (isOk) => {\n    document.getElementById('modal-result').innerHTML =\n      isOk\n        ? '<h2>Отлично!</h2><p>В течение ближайшего времени мы свяжемся с Вами</p>'\n        : '<h2>Что-то пошло не так...</h2><p>Проблемы с соединением, попробуйте позже</p>';\n    document.getElementById('modal').classList.add('isShown');\n    document.getElementById('shadow').classList.add('isShown');\n    // document.body.classList.add('stop-scroll');\n  };\n\n\n  document.getElementsByClassName('open')[0].onclick = openMenu;\n  document.getElementsByClassName('close')[0].onclick = closeMenu;\n  document.getElementById('modal-button').onclick = closeModal;\n\n  const links = document.getElementsByClassName('mobile-menu-item');\n  for (let i = 0; i < links.length; i++) {\n    links[i].onclick = closeMenu;\n  }\n\n  const validEmail = (email) => {\n    return emailRegex.test(email);\n  };\n\n  const showMessage = (msg) => {\n    document.getElementById('result').innerHTML = msg;\n  };\n\n  document.getElementById('submit-form').onclick = () => {\n    const data = {\n      'phone': document.getElementById('phone').value,\n      'fio': document.getElementById('fio').value,\n      'email': document.getElementById('email').value,\n    };\n    if (!(data.email && data.phone && data.fio)) showMessage('<p class=\"red-text\">Заполните все поля</p>');\n    else {\n      if(!validEmail(data.email)){\n        showMessage('<p class=\"red-text\">Введите корректный email</p>');\n      }\n      else if(!/^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(data.phone)){\n        showMessage('<p class=\"red-text\">Введите корректный телефон</p>');\n      }\n      else{\n        let request_options= {\n          headers:{\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          method: \"POST\",\n          body: JSON.stringify(data)\n        };\n        fetch('https://idwork.enface.ai/idwork', request_options)\n          .then(res => res.json())\n          .then(res => {\n            console.log(res);\n            if(res && res.ok){\n              showMessage('');\n              showModal(true);\n              document.getElementById('phone').value = '';\n              document.getElementById('email').value = '';\n              document.getElementById('fio').value = '';\n            }\n          })\n          .catch(() => {\n            showModal(false);\n          })\n      }\n    }\n  };\n};\n"]}